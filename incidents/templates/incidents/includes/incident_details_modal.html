<!-- Incident Details Modal -->
<div class="fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50" id="incidentDetailsModal" style="display: none;">
  <div class="bg-black/80 rounded-xl p-6 max-w-lg w-full mx-4 border border-white/10">
    <div class="flex justify-between items-center mb-6">
      <h2 class="text-xl font-bold text-white">Incident Details</h2>
      <button 
        onclick="closeIncidentDetails()"
        class="p-2 hover:bg-white/5 rounded-lg transition-colors"
      >
        <i class="fa-solid fa-xmark text-gray-400"></i>
      </button>
    </div>

    <div class="space-y-4">
      <div>
        <p class="text-gray-400 text-sm">Date/Time</p>
        <p class="text-white" id="detailsDate"></p>
      </div>

      <div>
        <p class="text-gray-400 text-sm">Location</p>
        <p class="text-white" id="detailsLocation"></p>
      </div>


      <div>
        <p class="text-gray-400 text-sm">Source</p>
        <a id="detailsSource" href="#" target="_blank" class="text-purple-400 hover:text-purple-300">View Source</a>
      </div>

      <div>
        <p class="text-gray-400 text-sm">Description</p>
        <p class="text-white" id="detailsDescription"></p>
      </div>

      <div class="relative mt-4 rounded-lg bg-gray-800 min-h-[12rem] flex items-center justify-center overflow-hidden">
        <!-- Loading Spinner -->
        <div id="imageLoadingSpinner" class="absolute inset-0 flex items-center justify-center bg-gray-800 z-10">
          <div class="animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-purple-400"></div>
        </div>
        
        <!-- Error State -->
        <div id="imageError" class="hidden absolute inset-0 flex flex-col items-center justify-center bg-gray-800 z-10">
          <i class="fa-solid fa-triangle-exclamation text-2xl text-gray-400 mb-2"></i>
          <p class="text-sm text-gray-400">Unable to load image</p>
        </div>

        <img 
          id="detailsImage" 
          src="#" 
          alt="Incident Image" 
          class="w-full max-h-48 object-contain"
          onload="document.getElementById('imageLoadingSpinner').style.display='none';"
          onerror="this.style.display='none'; document.getElementById('imageLoadingSpinner').style.display='none'; document.getElementById('imageError').style.display='flex';"
        />
      </div>

      <div class="mt-4">
        <p class="text-gray-400 text-sm mb-2">Verification Status</p>
        <div id="verificationStatus" class="flex items-center gap-2 p-3 rounded-lg"></div>
      </div>
    </div>
  </div>
</div>
